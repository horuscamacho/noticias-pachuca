# Fake Scroll Header - Architecture Diagram

## Visual Flow Diagram

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ HomeScreen (app/(invited)/home/index.tsx)                        â”ƒ
â”ƒ                                                                   â”ƒ
â”ƒ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”ƒ
â”ƒ â”‚ useCollapsibleHeader()                                      â”‚ â”ƒ
â”ƒ â”‚ Returns: scrollHandler, logoAnimatedStyle, bannerAnimated   â”‚ â”ƒ
â”ƒ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”ƒ
â”ƒ                                                                   â”ƒ
â”ƒ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”ƒ
â”ƒ â”‚ useState(headerHeight)                                      â”‚ â”ƒ
â”ƒ â”‚ - Initially 0                                               â”‚ â”ƒ
â”ƒ â”‚ - Set via onLayout callback                                 â”‚ â”ƒ
â”ƒ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”ƒ
â”ƒ                                                                   â”ƒ
â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”ƒ
â”ƒ  â”‚ LAYER 1: Absolutely Positioned Header (zIndex: 10)      â”‚   â”ƒ
â”ƒ  â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ CollapsibleHeader                                  â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ                                                     â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ Animated.View (logoAnimatedStyle)              â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚  â”‚ NOTICIAS   â”‚         â”‚ EDICIÃ“N  â”‚          â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚  â”‚ PACHUCA    â”‚         â”‚    â–¼     â”‚          â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ                                                     â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ Animated.View (bannerAnimatedStyle)            â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ â•‘ SUSCRÃBETE PARA VIVIR LA NUEVA           â•‘  â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ â•‘ EXPERIENCIA DE LAS NOTICIAS EN HIDALGO   â•‘  â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ â•‘                                           â•‘  â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ â•‘          [ REGISTRARSE ]                  â•‘  â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ                                                     â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ onLayout={() => setHeaderHeight(height)}           â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚   â”ƒ
â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”ƒ
â”ƒ                                                                   â”ƒ
â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”ƒ
â”ƒ  â”‚ LAYER 2: Tab Navigation                                 â”‚   â”ƒ
â”ƒ  â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ BrutalistTabs                                       â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ                                                     â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ BrutalistTabSelector                           â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚                                                 â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”â†’     â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ â”‚TODAS â”‚â”‚DEPORTâ”‚â”‚POLÃT â”‚â”‚ECONOMâ”‚â”‚SALUD â”‚      â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚â”‚      â”‚â”‚      â”‚â”‚      â”‚â”‚      â”‚      â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ â””â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”˜      â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ â†‘                                               â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ Yellow indicator (animated)                     â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚                                                 â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ                                                     â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ BrutalistTabContent                            â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚                                                 â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ â”‚ TabContentWithNews                         â”‚â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ â”‚                                             â”‚â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ â”‚ Animated.ScrollView                        â”‚â”‚â”‚â”ƒ  â”‚   â”ƒ
â”ƒ  â”‚ â”ƒ â”‚ â”‚   onScroll={scrollHandler} â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”¼â”¼â”€â”€â”€â”€â”
â”ƒ  â”‚ â”ƒ â”‚ â”‚                                             â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â”‚ Dead Space                              â”‚â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â”‚ height = headerHeight                   â”‚â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â”‚                                         â”‚â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â”‚ (Invisible padding)                     â”‚â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚                                             â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â”‚ NewsList (Actual Content)               â”‚â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â”‚                                         â”‚â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â”‚ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— â”‚â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â”‚ â•‘ News Card 1                         â•‘ â”‚â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â”‚ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â”‚                                         â”‚â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â”‚ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— â”‚â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â”‚ â•‘ News Card 2                         â•‘ â”‚â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â”‚ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â”‚                                         â”‚â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â”‚ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— â”‚â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â”‚ â•‘ News Card 3                         â•‘ â”‚â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â”‚ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â”‚                                         â”‚â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â”‚ ...                                     â”‚â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”ƒ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”ƒ  â”‚ â”‚
â”ƒ  â”‚ â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚ â”‚
â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
                                                                   â”‚
                                                                   â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ useCollapsibleHeader Hook                                        â”ƒ
â”ƒ                                                                   â”ƒ
â”ƒ scrollY SharedValue â—„â”€â”€â”€â”€â”€ scrollHandler updates this            â”ƒ
â”ƒ                                                                   â”ƒ
â”ƒ logoAnimatedStyle â—„â”€â”€â”€â”€â”€â”€â”€ interpolate(scrollY, [0, 80])         â”ƒ
â”ƒ                            opacity: 1 â†’ 0                         â”ƒ
â”ƒ                                                                   â”ƒ
â”ƒ bannerAnimatedStyle â—„â”€â”€â”€â”€â”€ interpolate(scrollY, [0, 180])        â”ƒ
â”ƒ                            opacity: 1 â†’ 0                         â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
```

---

## Scroll Behavior Visualization

### State 1: Initial (scrollY = 0)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”† Logo (opacity: 1.0)             â”‚ â† Fully visible
â”‚    NOTICIAS PACHUCA      EDICIÃ“Nâ–¼  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”† Banner (opacity: 1.0)           â”‚ â† Fully visible
â”‚ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— â”‚
â”‚ â•‘ SUSCRÃBETE...                  â•‘ â”‚
â”‚ â•‘    [ REGISTRARSE ]             â•‘ â”‚
â”‚ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TODAS  DEPORTES  POLÃTICA  ...     â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆ                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— â”‚
â”‚ â•‘ News Card 1                    â•‘ â”‚ â† First news visible
â”‚ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### State 2: Scrolling (scrollY = 40)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒ— Logo (opacity: 0.5)             â”‚ â† Fading out
â”‚    NOTICIAS PACHUCA      EDICIÃ“Nâ–¼  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”† Banner (opacity: 0.8)           â”‚ â† Still mostly visible
â”‚ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— â”‚
â”‚ â•‘ SUSCRÃBETE...                  â•‘ â”‚
â”‚ â•‘    [ REGISTRARSE ]             â•‘ â”‚
â”‚ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TODAS  DEPORTES  POLÃTICA  ...     â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆ                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— â”‚
â”‚ â•‘ News Card 2                    â•‘ â”‚ â† Scrolled up
â”‚ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### State 3: Scrolled (scrollY = 100)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒ‘ Logo (opacity: 0.0)             â”‚ â† Invisible
â”‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŒ— Banner (opacity: 0.4)           â”‚ â† Fading out
â”‚ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— â”‚
â”‚ â•‘                                â•‘ â”‚
â”‚ â•‘                                â•‘ â”‚
â”‚ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TODAS  DEPORTES  POLÃTICA  ...     â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆ                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— â”‚
â”‚ â•‘ News Card 4                    â•‘ â”‚ â† More scrolled
â”‚ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### State 4: Fully Scrolled (scrollY = 200+)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒ‘ Logo (invisible)                â”‚
â”‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŒ‘ Banner (invisible)              â”‚
â”‚                                    â”‚
â”‚                                    â”‚
â”‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TODAS  DEPORTES  POLÃTICA  ...     â”‚ â† Only tabs visible
â”‚ â–ˆâ–ˆâ–ˆâ–ˆ                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— â”‚
â”‚ â•‘ News Card 8                    â•‘ â”‚ â† Deep in content
â”‚ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ USER ACTION: Scrolls content down                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Animated.ScrollView detects scroll                              â”‚
â”‚ - Native event: { contentOffset: { y: number } }                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ scrollHandler (useAnimatedScrollHandler)                        â”‚
â”‚ - Runs on UI thread (Reanimated)                                â”‚
â”‚ - No bridge crossing                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Updates scrollY SharedValue                                     â”‚
â”‚ scrollY.value = event.contentOffset.y                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚               â”‚
             â–¼               â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ logoAnimated â”‚   â”‚ bannerAnimatedâ”‚
   â”‚ Style        â”‚   â”‚ Style         â”‚
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                   â”‚
          â”‚                   â”‚
          â–¼                   â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ useAnimatedStyle reruns          â”‚
   â”‚ - Interpolates scrollY           â”‚
   â”‚ - Returns new opacity            â”‚
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Animated.View updates            â”‚
   â”‚ - Logo fades out                 â”‚
   â”‚ - Banner fades out               â”‚
   â”‚ - Smooth 60fps animation         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component Dependency Graph

```
HomeScreen
â”œâ”€â”€ useCollapsibleHeader() â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   â”œâ”€â”€ scrollY                    â”‚
â”‚   â”œâ”€â”€ scrollHandler              â”‚
â”‚   â”œâ”€â”€ logoAnimatedStyle          â”‚
â”‚   â””â”€â”€ bannerAnimatedStyle        â”‚
â”‚                                   â”‚
â”œâ”€â”€ CollapsibleHeader              â”‚
â”‚   â”œâ”€â”€ receives: logoAnimatedStyleâ—„â”˜
â”‚   â”œâ”€â”€ receives: bannerAnimatedStyle
â”‚   â”œâ”€â”€ sends: onLayout â†’ setHeaderHeight
â”‚   â”‚
â”‚   â”œâ”€â”€ LogoSection (Animated.View)
â”‚   â”‚   â”œâ”€â”€ Logo text
â”‚   â”‚   â””â”€â”€ Edition dropdown
â”‚   â”‚
â”‚   â””â”€â”€ BannerSection (Animated.View)
â”‚       â”œâ”€â”€ Banner text
â”‚       â””â”€â”€ CTA button
â”‚
â””â”€â”€ BrutalistTabs
    â”œâ”€â”€ receives: headerHeight â—„â”€â”€â”€â”€â”€â”€â”
    â”œâ”€â”€ receives: scrollHandler       â”‚
    â”‚                                  â”‚
    â”œâ”€â”€ BrutalistTabSelector           â”‚
    â”‚   â”œâ”€â”€ useState(activeTab)        â”‚
    â”‚   â”œâ”€â”€ Tab buttons (Pressable)    â”‚
    â”‚   â””â”€â”€ Animated indicator         â”‚
    â”‚                                  â”‚
    â””â”€â”€ BrutalistTabContent            â”‚
        â”œâ”€â”€ receives: activeTab        â”‚
        â”œâ”€â”€ receives: headerHeight â”€â”€â”€â”€â”˜
        â”œâ”€â”€ receives: scrollHandler
        â”‚
        â”œâ”€â”€ TabContentWithNews (if news tab)
        â”‚   â”œâ”€â”€ Animated.ScrollView â”€â”€â”€â”€â”€â”€â”
        â”‚   â”‚   â””â”€â”€ connects scrollHandler â”˜
        â”‚   â”œâ”€â”€ Dead space View (height = headerHeight)
        â”‚   â””â”€â”€ NewsList
        â”‚       â””â”€â”€ News cards (map)
        â”‚
        â””â”€â”€ ColoredTabContent (if other tab)
            â”œâ”€â”€ Animated.ScrollView
            â”œâ”€â”€ Dead space View
            â””â”€â”€ Placeholder content
```

---

## State Management Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LOCAL STATE (useState)                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ HomeScreen                                                      â”‚
â”‚ â”œâ”€â”€ headerHeight (number)                                      â”‚
â”‚ â”‚   - Initially: 0                                             â”‚
â”‚ â”‚   - Updated: onLayout callback                               â”‚
â”‚ â”‚   - Used: passed to tabs for dead space                      â”‚
â”‚                                                                 â”‚
â”‚ BrutalistTabs                                                   â”‚
â”‚ â”œâ”€â”€ activeTab (string)                                         â”‚
â”‚ â”‚   - Initially: tabs[0].id                                    â”‚
â”‚ â”‚   - Updated: onTabChange callback                            â”‚
â”‚ â”‚   - Used: determines which content to show                   â”‚
â”‚                                                                 â”‚
â”‚ BrutalistTabSelector                                            â”‚
â”‚ â”œâ”€â”€ tabLayouts (Map<string, { x, width }>)                     â”‚
â”‚ â”‚   - Ref, not state                                           â”‚
â”‚ â”‚   - Stores: measured positions of tabs                       â”‚
â”‚ â”‚   - Used: for indicator animation                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SHARED VALUES (Reanimated)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ useCollapsibleHeader                                            â”‚
â”‚ â”œâ”€â”€ scrollY                                                     â”‚
â”‚ â”‚   - Type: SharedValue<number>                                â”‚
â”‚ â”‚   - Updated: scrollHandler                                   â”‚
â”‚ â”‚   - Used: opacity interpolation                              â”‚
â”‚                                                                 â”‚
â”‚ BrutalistTabSelector                                            â”‚
â”‚ â”œâ”€â”€ indicatorOffset                                             â”‚
â”‚ â”‚   - Type: SharedValue<number>                                â”‚
â”‚ â”‚   - Updated: withTiming on tab press                         â”‚
â”‚ â”‚   - Used: indicator translateX                               â”‚
â”‚ â”‚                                                               â”‚
â”‚ â””â”€â”€ indicatorWidth                                              â”‚
â”‚     - Type: SharedValue<number>                                 â”‚
â”‚     - Updated: withTiming on tab press                          â”‚
â”‚     - Used: indicator width                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Animation Timeline

```
User taps "DEPORTES" tab
         â”‚
         â–¼
    [0ms] Press detected
         â”‚
         â”œâ”€â–º onPress handler fires
         â”‚
    [0ms] Start animations
         â”‚
         â”œâ”€â–º indicatorOffset.value = withTiming(newX, 250ms)
         â”œâ”€â–º indicatorWidth.value = withTiming(newWidth, 250ms)
         â”‚
[0-250ms] Indicator slides smoothly
         â”‚
         â”œâ”€â–º Yellow bar moves from "TODAS" to "DEPORTES"
         â”œâ”€â–º Width adjusts if tabs different sizes
         â”‚
   [250ms] Animation complete
         â”‚
         â”œâ”€â–º Indicator positioned under "DEPORTES"
         â”œâ”€â–º Tab selector state updated
         â”‚
         â–¼
    Content switches to "DEPORTES" news
         â”‚
         â–¼
    New ScrollView mounts with fresh scrollY = 0
         â”‚
         â–¼
    Header resets to full opacity
```

---

## Performance Optimization Points

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OPTIMIZATION STRATEGY                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ 1. Reanimated UI Thread                                        â”‚
â”‚    âœ… All animations run on UI thread                          â”‚
â”‚    âœ… No bridge crossing during scroll                         â”‚
â”‚    âœ… Guaranteed 60fps                                         â”‚
â”‚                                                                 â”‚
â”‚ 2. Conditional Rendering                                       â”‚
â”‚    âœ… Tabs only render after headerHeight > 0                  â”‚
â”‚    âœ… Prevents layout thrashing                                â”‚
â”‚    âœ… Clean initial render                                     â”‚
â”‚                                                                 â”‚
â”‚ 3. Scroll Event Throttling                                     â”‚
â”‚    âœ… scrollEventThrottle={16}                                 â”‚
â”‚    âœ… 60fps update rate                                        â”‚
â”‚    âœ… Balanced performance/smoothness                          â”‚
â”‚                                                                 â”‚
â”‚ 4. Component Stability                                         â”‚
â”‚    âœ… Stable props (no inline objects/functions)               â”‚
â”‚    âœ… Ready for React.memo                                     â”‚
â”‚    âœ… Minimal re-render triggers                               â”‚
â”‚                                                                 â”‚
â”‚ 5. Ref-Based State (where appropriate)                         â”‚
â”‚    âœ… tabLayouts stored in ref                                 â”‚
â”‚    âœ… No re-renders on layout updates                          â”‚
â”‚    âœ… Only updates when needed                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Key Implementation Details

### Dead Space Pattern

```typescript
// TabContentWithNews.tsx
<Animated.ScrollView onScroll={scrollHandler}>
  {/* This creates the "fake scroll under header" illusion */}
  <View style={{ height: headerHeight }} />

  {/* When user scrolls, scrollY reports offset including dead space */}
  {/* Header animates based on this offset */}
  {/* Content appears to scroll "under" the absolutely positioned header */}

  <NewsList category={category} />
</Animated.ScrollView>
```

**Why it works:**
1. Header is absolutely positioned (doesn't affect layout flow)
2. ScrollView starts at y=0 (top of screen)
3. Dead space pushes content down by headerHeight
4. As user scrolls, content moves up, but scrollY increases
5. Header opacity decreases based on scrollY
6. Result: Smooth parallax-like effect

### Header Height Measurement

```typescript
// HomeScreen
const [headerHeight, setHeaderHeight] = useState(0);

// CollapsibleHeader
<Animated.View onLayout={(event) => {
  const { height } = event.nativeEvent.layout;
  setHeaderHeight(height);
}}>

// Why wait for measurement?
{headerHeight > 0 && <BrutalistTabs headerHeight={headerHeight} />}
```

**Benefits:**
- Accurate height regardless of content
- Handles safe area automatically
- Adapts to different devices
- No hardcoded magic numbers

---

**END OF ARCHITECTURE DIAGRAM**
